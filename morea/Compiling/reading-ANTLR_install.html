<!DOCTYPE html>
<html>
<head>
  <title> Installing ANTLR | ICS 312 Spring 2021 </title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="utf-8">

  <!--  Load bootswatch-based Morea theme file. -->
  <link rel="stylesheet" href="/ics312_spring2021/css/themes/cerulean/bootstrap.min.css">
  <link rel="stylesheet" href="/ics312_spring2021/css/style.css">
  <link rel="stylesheet" href="/ics312_spring2021/css/syntax.css">
  <link rel="shortcut icon" href="/ics312_spring2021/favicon.ico" type="image/x-icon"/>

  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
  <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.2/html5shiv.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/respond.js/1.2.0/respond.js"></script>
  <![endif]-->

  <!-- Load Bootstrap JavaScript components -->
  <script src="//code.jquery.com/jquery.min.js"></script>
  <script src="//netdna.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>

  
  <script type="text/javascript"
          src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  

  

  <script>
    $(window).load(function () {
      // If on a page associated with a navbar item, make its navbar item 'active'.
      $('.navbar-nav').find('a[href="' + location.pathname + '"]').parents('li').addClass('active');
    });
  </script>

</head>
<body>
<!-- Responsive navbar -->
<div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <!--  Display three horizontal lines when navbar collapsed. -->
        <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/ics312_spring2021/index.html"> ICS 312 Spring 2021 </a>
    </div>
    <div class="collapse navbar-collapse">
      <ul class="nav navbar-nav">
        
        <li><a href="/ics312_spring2021/modules/">Modules</a></li>
        
        <li><a href="/ics312_spring2021/outcomes/">Outcomes</a></li>
        
        
        <li><a href="/ics312_spring2021/readings/">Readings</a></li>
        
        
        <li><a href="/ics312_spring2021/experiences/">Experiences</a></li>
        
        
        <li><a href="/ics312_spring2021/assessments/">Assessments</a></li>
        
        
      </ul>
    </div>
  </div>
</div>


<div class="breadcrumb-bar">
  <div class="container">
    <ol class="breadcrumb">
      
      <li><a href="/ics312_spring2021/">Home</a></li>
      <li><a href="/ics312_spring2021/modules">Modules</a></li>
      <li><a href="/ics312_spring2021/modules/"></a></li>
      <li class="active">Installing ANTLR</li>
    </ol>
  </div>
</div>


<div class="container">
  <h2 id="installing-antlr">Installing ANTLR</h2>

<p>You need to have Java installed on your system (e.g., in Ubuntu: <tt>sudo apt install openjdk-11-jdk</tt>).</p>

<ul>
  <li>
    <p>Download <a href="http://www.antlr.org/download/antlr-4.8-complete.jar">antlr-4.8-complete.jar</a> from the <a href="http://www.antlr.org">ANTLR Web site</a>, to the directory in your local machine in which you’ll use ANTLR to develop your compiler (i.e., so that Java will “see” this .jar file).</p>
  </li>
  <li>
    <p>ANTLR takes an input file that describes the language to be
lexed/parsed, and generates a set of .java files that can then be
compiled with javac.  The resulting .class files can then be executed to lex/parse
source code written in the language.</p>
  </li>
</ul>

<h2 id="example-run-of-antlr">Example run of ANTLR</h2>

<p>Let us go through an example step by step. We assume a UNIX-like
command-line and that the file antlr-4.8-complete.jar  is located in directory
  <tt>~/ANTLR/</tt>.  Everything below assumes that <tt>~/ANTLR</tt> is the
working directory (no <tt>CLASSPATH</tt> variable is set, and only minimal
<tt>-cp</tt> options are passed to <tt>javac</tt> and <tt>java</tt>).</p>

<p>In the working directory we have three files:</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">% ls 
antlr-4.8-complete.jar
SimpleExample.g4  
helloworld.greeting</code></pre></figure>

<p>The first file is the ANTLR jar file. 
The second file, <a href="SimpleExample.g4">SimpleExample.g4</a>, written in ANTLR syntax that we will understand later,
describes the language to be lexed/parsed, in this case a trivial language
that describes a greeting of the form “Hello name!”:</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">grammar SimpleExample;

greeting: Hello Name Bang ;

// TOKENS
Hello:	'Hello' ;
Bang:	'!' ;
Name:   [A-Z][a-z]* ;

WS : [ \t\r\n]+ -&gt; skip ; // skip spaces, tabs, newlines</code></pre></figure>

<p>There is some “parsing” stuff in the file above (like the “grammar” statement”), because in ANTLR we can’t just generate a lexer without also a parser. But for the lexer, what
we care about for now is just what’s bellow the “// TOKENS” comment.</p>

<p>The third file is “source code” written using the above language</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">Hello World !</code></pre></figure>

<p>We can now run ANTLR to generate the code of our lexer/parser by typing the following command:</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">% java -jar ./antlr-4.8-complete.jar SimpleExample.g4</code></pre></figure>

<p>The above command produces a bunch of files, including .java files. These
java files we can now compile with:</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">% javac -cp antlr-4.8-complete.jar SimpleExample*.java</code></pre></figure>

<p>We can now finally run our lexer/parser on the source code (don’t forget the “.:” in the classpath!)</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">% java -cp .:antlr-4.8-complete.jar org.antlr.v4.gui.TestRig SimpleExample greeting helloworld.greeting -tokens
[@0,0:4='Hello',&lt;1&gt;,1:0]
[@1,6:10='World',&lt;3&gt;,1:6]
[@2,12:12='!',&lt;2&gt;,1:12]
[@3,14:13='&lt;EOF&gt;',&lt;-1&gt;,2:0]
(greeting Hello World !)</code></pre></figure>

<p>In the above we asked ANTLR to print the set of tokens. We’ll do much more, but you can already try to
modify helloworld.greeting and create lexing errors! For instance, if you add a ‘+’ at the end of the line,
you should get some “token recognition error”.</p>

<p>Even if you don’t quite understand the above, make sure you can get it to work as described.</p>

<hr />


</div>




<script src="/ics312_spring2021/js/scrollIfAnchor.js"></script>

<div class="footer-background hidden-print">
  <footer>
    <div class="container page-footer">
      
      No footer page content supplied.
      
      <p style="margin: 0">Powered by the <a href="http://morea-framework.github.io/">Morea Framework</a> (Theme: cerulean)<br>
        Last update on: <span>2021-02-24 21:31:38 -1000</span></p>

      <p style="margin: 0">
        
        7 modules
        
        | 11 outcomes
        
        
        | 56 readings
        
        
        | 10 experiences
        
        
        | 17 assessments
        
      </p>
    </div>
  </footer>
</div>
</body>
</html>
